{"nodes":[{"data":{"form":{"enablePrologue":true,"inputs":{},"mode":"conversational","prologue":"Hi! I'm the Human Resources assistant. What can I do for you?"},"label":"Begin","name":"begin"},"dragging":false,"id":"begin","measured":{"height":82,"width":200},"position":{"x":84.48700588982157,"y":200},"selected":false,"sourcePosition":"left","targetPosition":"right","type":"beginNode"},{"data":{"form":{"frequencyPenaltyEnabled":false,"frequency_penalty":0.7,"items":[{"description":"Questions about employees, attendance, leave, benefits, dress code, workplace behavior, harassment, conflicts, disciplinary procedures, grievances, or the employee handbook.","examples":[{"value":"How many vacation days do I have per year?\n\nWhat is the dress code in the office?\n\nHow do I report harassment at work?\n\nWhat is the policy for sick leave?\n\nCan I work remotely and what are the conditions?"}],"name":"Human Resources","uuid":"37e46d1f-7f2a-4d63-8f1f-8ded2106d188"},{"description":"Questions about data protection, GDPR/CCPA, information security, acceptable use of technology, passwords, MFA, VPN, incident response, data retention, or remote work security.","examples":[{"value":"Can I use personal email to send company files?\nAnything about tecnology\nWhat is our policy on data retention?\n\nWhat should I do if I lose my company laptop?\n\nAre we required to notify authorities after a data breach?\n\nWhat password requirements does the company enforce?"}],"name":"Data Privacy","uuid":"b78a6440-5b01-48cd-be5b-3c44d49d04c4"},{"description":"Questions not related to HR policies or data privacy/technology policies, or that are too general or unclear.","examples":[{"value":"What is the company strategy for next year?\n\nWho is the CEO?\n\nWhere is the cafeteria located?"}],"name":"Other","uuid":"13b14109-d657-41c5-ad3e-f13dd9ecb205"}],"llm_id":"qwen2-noloop:latest@Ollama","maxTokensEnabled":false,"max_tokens":256,"message_history_window_size":100,"outputs":{"category_name":{"type":"string"}},"parameter":"Precise","presencePenaltyEnabled":false,"presence_penalty":0.4,"query":"sys.query","temperature":0.1,"temperatureEnabled":false,"topPEnabled":false,"top_p":0.3},"label":"Categorize","name":"Categorize"},"dragging":false,"id":"Categorize:WideTreesLike","measured":{"height":186,"width":200},"position":{"x":350.865079485094,"y":124.57969226385856},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"categorizeNode"},{"data":{"form":{"conditions":[{"items":[{"cpn_id":"Categorize:WideTreesLike@category_name","operator":"=","value":"Human Resources"}],"logical_operator":"and","to":["Retrieval:StrongBooksBegin"]},{"items":[{"cpn_id":"Categorize:WideTreesLike@category_name","operator":"=","value":"Data Privacy"}],"logical_operator":"and","to":["Retrieval:ThinPointsStop"]}],"end_cpn_ids":["Agent:HeavySidesWalk"]},"label":"Switch","name":"Switch"},"dragging":false,"id":"Switch:ChattyPansCheat","measured":{"height":235,"width":200},"position":{"x":675.5361783249008,"y":113.434059711597},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"switchNode"},{"data":{"form":{"content":["{Agent:FruityTimesCall@content}\n\n"]},"label":"Message","name":"HR Answer"},"dragging":false,"id":"Message:KindRiversBurn","measured":{"height":86,"width":200},"position":{"x":1552.1169878362157,"y":-7.628572086344956},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"messageNode"},{"data":{"form":{"cite":true,"delay_after_error":1,"description":"","exception_default_value":"","exception_goto":[],"exception_method":"","frequencyPenaltyEnabled":false,"frequency_penalty":0,"llm_id":"llama3.1:8b@Ollama","maxTokensEnabled":true,"max_retries":3,"max_rounds":1,"max_tokens":512,"mcp":[],"message_history_window_size":12,"outputs":{"content":{"type":"string","value":""}},"parameter":"Custom","presencePenaltyEnabled":false,"presence_penalty":0,"prompts":[{"content":"Context from Employee Handbook:\r\n{Retrieval:StrongBooksBegin@formalized_content}\r\n\r\nQuestion: {sys.query}","role":"user"}],"showStructuredOutput":false,"structured":{},"sys_prompt":"You are a helpful HR assistant for a company. Your role is to answer employee questions based ONLY on the provided context from the Employee Handbook.\n\nINSTRUCTIONS:\n1. Read the context carefully before answering\n2. Provide clear, direct answers using information from the context\n3. If the information is found, give a complete but concise answer\n4. If the information is NOT in the context, respond: \"I couldn't find that specific information in the Employee Handbook. Please contact HR directly.\"\n5. Use bullet points for lists when appropriate\n6. Be professional and friendly","temperature":0.6,"temperatureEnabled":true,"tools":[],"topPEnabled":true,"top_p":0.9,"user_prompt":"","visual_files_var":""},"label":"Agent","name":"HR Agent"},"dragging":false,"id":"Agent:FruityTimesCall","measured":{"height":90,"width":200},"position":{"x":1256.9844468373965,"y":-62.51455075096739},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"agentNode"},{"data":{"form":{"cite":true,"delay_after_error":1,"description":"","exception_default_value":"","exception_goto":[],"exception_method":"","frequencyPenaltyEnabled":true,"frequency_penalty":0.3,"llm_id":"qwen2-noloop:latest@Ollama","maxTokensEnabled":false,"max_retries":3,"max_rounds":1,"max_tokens":4096,"mcp":[],"message_history_window_size":12,"outputs":{"content":{"type":"string","value":""}},"parameter":"Balance","presencePenaltyEnabled":true,"presence_penalty":0.2,"prompts":[{"role":"user","content":"\r{sys.query}\r\r\n"}],"showStructuredOutput":false,"structured":{},"sys_prompt":"You are a very limited assistant.\r\nYou can ONLY handle questions about the company’s HR policies or IT/security policies.\r\nIf the user asks anything that is not clearly about HR or IT/security policies, you MUST answer:\r\n\r\r\nSorry, I cannot help you with that. I am only an HR and IT internal policy assistant.\"\r\n\r\nDo not try to guess or invent information.\r\nAlways keep the answer to 1–2 short sentences, and never add extra explanations.\r\n","temperature":0.5,"temperatureEnabled":true,"tools":[],"topPEnabled":true,"top_p":0.85,"user_prompt":"","visual_files_var":""},"label":"Agent","name":"Other Agent"},"dragging":false,"id":"Agent:HeavySidesWalk","measured":{"height":90,"width":200},"position":{"x":953.1827468167901,"y":359.87653918130945},"selected":true,"sourcePosition":"right","targetPosition":"left","type":"agentNode"},{"data":{"form":{"content":["{Agent:HeavySidesWalk@content}"]},"label":"Message","name":"Other asnwer"},"dragging":false,"id":"Message:SolidCatsTie","measured":{"height":86,"width":200},"position":{"x":1266.0302607299639,"y":405.18542850076017},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"messageNode"},{"data":{"form":{"cite":true,"delay_after_error":1,"description":"","exception_default_value":"","exception_goto":[],"exception_method":"","frequencyPenaltyEnabled":true,"frequency_penalty":0.4,"llm_id":"llama3.1:8b@Ollama","maxTokensEnabled":true,"max_retries":3,"max_rounds":1,"max_tokens":512,"mcp":[],"message_history_window_size":12,"outputs":{"content":{"type":"string","value":""}},"presencePenaltyEnabled":true,"presence_penalty":0.3,"prompts":[{"role":"user","content":"Context from Employee Handbook:\r\n{Retrieval:StrongBooksBegin@formalized_content}\r\n\r\nQuestion: {sys.query}\n"}],"showStructuredOutput":false,"structured":{},"sys_prompt":"You are a helpful HR assistant for a company. Your role is to answer employee questions based ONLY on the provided context from the Employee Handbook.\nINSTRUCTIONS:\n1. Read the context carefully before answering\n2. Provide clear, direct answers using information from the context\n3. If the information is found, give a complete but concise answer\n4. If the information is NOT in the context, respond: \"I couldn't find that specific information in the Employee Handbook. Please contact HR directly.\"\n5. Use bullet points for lists when appropriate\n6. Be professional and friendly","temperature":0.5,"temperatureEnabled":true,"tools":[],"topPEnabled":true,"top_p":0.8,"user_prompt":"","visual_files_var":""},"label":"Agent","name":"IT Agent"},"dragging":false,"id":"Agent:DryForksShout","measured":{"height":90,"width":200},"position":{"x":1247.8874018090792,"y":202.59457748016607},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"agentNode"},{"data":{"form":{"content":["{Agent:DryForksShout@content}"]},"label":"Message","name":"IT Answer"},"dragging":false,"id":"Message:WittyDotsLike","measured":{"height":86,"width":200},"position":{"x":1539.4021203910195,"y":228.05042173434467},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"messageNode"},{"data":{"form":{"cross_languages":[],"empty_response":"","kb_ids":["4584df57023f11f1989aee8943984c01"],"keywords_similarity_weight":0.7,"meta_data_filter":{},"outputs":{"formalized_content":{"type":"string","value":""},"json":{"type":"Array<Object>","value":[]}},"query":"{sys.query}","rerank_id":"","retrieval_from":"dataset","similarity_threshold":0.2,"toc_enhance":false,"top_k":1024,"top_n":8,"use_kg":false},"label":"Retrieval","name":"Tech Policies"},"dragging":false,"id":"Retrieval:ThinPointsStop","measured":{"height":90,"width":200},"position":{"x":965.062009504241,"y":188.84807522034706},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"retrievalNode"},{"data":{"form":{"cross_languages":[],"empty_response":"","kb_ids":["a14ec31d024611f1bb06ee8943984c01"],"keywords_similarity_weight":0.3,"meta_data_filter":{},"outputs":{"formalized_content":{"type":"string","value":""},"json":{"type":"Array<Object>","value":[]}},"query":"{sys.query}","rerank_id":"","retrieval_from":"dataset","similarity_threshold":0.15,"toc_enhance":false,"top_k":1024,"top_n":8,"use_kg":false},"label":"Retrieval","name":"Human Resources"},"dragging":false,"id":"Retrieval:StrongBooksBegin","measured":{"height":90,"width":200},"position":{"x":967.4551519806672,"y":33.52168808528667},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"retrievalNode"}],"edges":[{"data":{"isHovered":false},"id":"xy-edge__beginstart-Categorize:WideTreesLikeend","source":"begin","sourceHandle":"start","target":"Categorize:WideTreesLike","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Categorize:WideTreesLike37e46d1f-7f2a-4d63-8f1f-8ded2106d188-Switch:ChattyPansCheatend","markerEnd":"logo","source":"Categorize:WideTreesLike","sourceHandle":"37e46d1f-7f2a-4d63-8f1f-8ded2106d188","target":"Switch:ChattyPansCheat","targetHandle":"end","type":"buttonEdge","zIndex":1001},{"data":{"isHovered":false},"id":"xy-edge__Categorize:WideTreesLikeb78a6440-5b01-48cd-be5b-3c44d49d04c4-Switch:ChattyPansCheatend","markerEnd":"logo","source":"Categorize:WideTreesLike","sourceHandle":"b78a6440-5b01-48cd-be5b-3c44d49d04c4","target":"Switch:ChattyPansCheat","targetHandle":"end","type":"buttonEdge","zIndex":1001},{"data":{"isHovered":false},"id":"xy-edge__Categorize:WideTreesLike13b14109-d657-41c5-ad3e-f13dd9ecb205-Switch:ChattyPansCheatend","markerEnd":"logo","source":"Categorize:WideTreesLike","sourceHandle":"13b14109-d657-41c5-ad3e-f13dd9ecb205","target":"Switch:ChattyPansCheat","targetHandle":"end","type":"buttonEdge","zIndex":1001},{"data":{"isHovered":false},"id":"xy-edge__Agent:FruityTimesCallstart-Message:KindRiversBurnend","markerEnd":"logo","source":"Agent:FruityTimesCall","sourceHandle":"start","target":"Message:KindRiversBurn","targetHandle":"end","type":"buttonEdge","zIndex":1001},{"data":{"isHovered":false},"id":"xy-edge__Switch:ChattyPansCheatend_cpn_ids-Agent:HeavySidesWalkend","source":"Switch:ChattyPansCheat","sourceHandle":"end_cpn_ids","target":"Agent:HeavySidesWalk","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Agent:HeavySidesWalkstart-Message:SolidCatsTieend","source":"Agent:HeavySidesWalk","sourceHandle":"start","target":"Message:SolidCatsTie","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Agent:DryForksShoutstart-Message:WittyDotsLikeend","source":"Agent:DryForksShout","sourceHandle":"start","target":"Message:WittyDotsLike","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Switch:ChattyPansCheatCase 2-Retrieval:ThinPointsStopend","source":"Switch:ChattyPansCheat","sourceHandle":"Case 2","target":"Retrieval:ThinPointsStop","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Retrieval:ThinPointsStopstart-Agent:DryForksShoutend","markerEnd":"logo","source":"Retrieval:ThinPointsStop","sourceHandle":"start","target":"Agent:DryForksShout","targetHandle":"end","type":"buttonEdge","zIndex":1001},{"data":{"isHovered":false},"id":"xy-edge__Switch:ChattyPansCheatCase 1-Retrieval:StrongBooksBeginend","source":"Switch:ChattyPansCheat","sourceHandle":"Case 1","target":"Retrieval:StrongBooksBegin","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Retrieval:StrongBooksBeginstart-Agent:FruityTimesCallend","markerEnd":"logo","source":"Retrieval:StrongBooksBegin","sourceHandle":"start","target":"Agent:FruityTimesCall","targetHandle":"end","type":"buttonEdge","zIndex":1001}]}