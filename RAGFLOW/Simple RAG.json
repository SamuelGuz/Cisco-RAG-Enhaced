{"nodes":[{"data":{"form":{"enablePrologue":true,"inputs":{},"mode":"conversational","prologue":"Hi! I'm your HR assistant. What can I do for you?"},"label":"Begin","name":"begin"},"dragging":false,"id":"begin","measured":{"height":82,"width":200},"position":{"x":-70.76684691947725,"y":316.08759403128056},"selected":false,"sourcePosition":"left","targetPosition":"right","type":"beginNode"},{"data":{"form":{"content":["{Agent:StrongBeansBet@content}"]},"label":"Message","name":"Message_0"},"dragging":false,"id":"Message:BrownPugsStick","measured":{"height":86,"width":200},"position":{"x":823.1027326307759,"y":304.3065601416238},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"messageNode"},{"data":{"form":{"text":"This RAGFlow workflow implements a retrieval-augmented generation (RAG) pipeline for an HR assistant that answers employee questions about company policies. When a user submits a question through the Begin node, the Retrieval_0 component searches the \"Policies\" knowledge base to find relevant policy documents, then passes both the question and retrieved context to Agent_0 (powered by llama-3.1-8b-instant), which generates a grounded, professional response based on the retrieved policies, and finally delivers the answer to the user through Message_0."},"label":"Note","name":"Workflow Overall Description"},"dragHandle":".note-drag-handle","dragging":false,"height":154,"id":"Note:SwiftSuitsFlow","measured":{"height":154,"width":374},"position":{"x":1538.6778765683891,"y":250.63239799266194},"resizing":false,"selected":false,"sourcePosition":"right","targetPosition":"left","type":"noteNode","width":374},{"data":{"form":{"cite":false,"delay_after_error":1.1,"description":"","exception_default_value":"","exception_goto":[],"exception_method":"","frequencyPenaltyEnabled":true,"frequency_penalty":0.3,"llm_id":"llama3.1:8b@Ollama","maxTokensEnabled":false,"max_retries":3,"max_rounds":1,"max_tokens":4096,"mcp":[],"message_history_window_size":12,"outputs":{"content":{"type":"string","value":""}},"parameter":"Balance","presencePenaltyEnabled":true,"presence_penalty":0.2,"prompts":[{"role":"user","content":"Context from Employee Handbook:\r\n{Retrieval:RedDonkeysSing@formalized_content}\r\n\r\nQuestion: {sys.query}\r\n"}],"showStructuredOutput":false,"structured":{},"sys_prompt":"You are a helpful HR assistant for a company. Your role is to answer employee questions based ONLY on the provided context from the Employee Handbook.\nINSTRUCTIONS:\n1. Read the context carefully before answering\n2. Provide clear, direct answers using information from the context\n3. If the information is found, give a complete but concise answer\n4. If the information is NOT in the context, respond: \"I couldn't find that specific information in the Employee Handbook. Please contact HR directly.\"\n5. Use bullet points for lists when appropriate\n6. Be professional and friendly","temperature":0.5,"temperatureEnabled":true,"tools":[],"topPEnabled":true,"top_p":0.85,"user_prompt":"","visual_files_var":""},"label":"Agent","name":"Agent_0"},"dragging":false,"id":"Agent:StrongBeansBet","measured":{"height":90,"width":200},"position":{"x":508.1992521107739,"y":287.95969275940763},"selected":true,"sourcePosition":"right","targetPosition":"left","type":"agentNode"},{"data":{"form":{"cross_languages":[],"empty_response":"","kb_ids":["a14ec31d024611f1bb06ee8943984c01"],"keywords_similarity_weight":0.7,"meta_data_filter":{},"outputs":{"formalized_content":{"type":"string","value":""},"json":{"type":"Array<Object>","value":[]}},"query":"{sys.query}","rerank_id":"","retrieval_from":"dataset","similarity_threshold":0.2,"toc_enhance":false,"top_k":1024,"top_n":8,"use_kg":false},"label":"Retrieval","name":"Retrieval_0"},"dragging":false,"id":"Retrieval:RedDonkeysSing","measured":{"height":90,"width":200},"position":{"x":229.23315308052275,"y":316.08759403128056},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"retrievalNode"}],"edges":[{"data":{"isHovered":false},"id":"xy-edge__Agent:StrongBeansBetstart-Message:BrownPugsStickend","markerEnd":"logo","source":"Agent:StrongBeansBet","sourceHandle":"start","target":"Message:BrownPugsStick","targetHandle":"end","type":"buttonEdge","zIndex":1001},{"id":"xy-edge__beginstart-Retrieval:RedDonkeysSingend","source":"begin","sourceHandle":"start","target":"Retrieval:RedDonkeysSing","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Retrieval:RedDonkeysSingstart-Agent:StrongBeansBetend","markerEnd":"logo","source":"Retrieval:RedDonkeysSing","sourceHandle":"start","target":"Agent:StrongBeansBet","targetHandle":"end","type":"buttonEdge","zIndex":1001}]}