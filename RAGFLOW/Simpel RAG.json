{"nodes":[{"data":{"form":{"enablePrologue":true,"inputs":{},"mode":"conversational","prologue":"Hi! I'm your HR assistant. What can I do for you?"},"label":"Begin","name":"begin"},"dragging":false,"id":"begin","measured":{"height":82,"width":200},"position":{"x":-70.76684691947725,"y":316.08759403128056},"selected":false,"sourcePosition":"left","targetPosition":"right","type":"beginNode"},{"data":{"form":{"content":["{Agent:StrongBeansBet@content}"]},"label":"Message","name":"Message_0"},"dragging":false,"id":"Message:BrownPugsStick","measured":{"height":86,"width":200},"position":{"x":823.1027326307759,"y":304.3065601416238},"selected":true,"sourcePosition":"right","targetPosition":"left","type":"messageNode"},{"data":{"form":{"text":"This RAGFlow workflow implements a retrieval-augmented generation (RAG) pipeline for an HR assistant that answers employee questions about company policies. When a user submits a question through the Begin node, the Retrieval_0 component searches the \"Policies\" knowledge base to find relevant policy documents, then passes both the question and retrieved context to Agent_0 (powered by llama-3.1-8b-instant), which generates a grounded, professional response based on the retrieved policies, and finally delivers the answer to the user through Message_0."},"label":"Note","name":"Workflow Overall Description"},"dragHandle":".note-drag-handle","dragging":false,"height":154,"id":"Note:SwiftSuitsFlow","measured":{"height":154,"width":374},"position":{"x":1538.6778765683891,"y":250.63239799266194},"resizing":false,"selected":false,"sourcePosition":"right","targetPosition":"left","type":"noteNode","width":374},{"data":{"form":{"cite":true,"delay_after_error":1.1,"description":"","exception_default_value":"","exception_goto":[],"exception_method":"","frequencyPenaltyEnabled":true,"frequency_penalty":0.3,"llm_id":"llama3.2:3b@Ollama","maxTokensEnabled":false,"max_retries":3,"max_rounds":1,"max_tokens":4096,"mcp":[],"message_history_window_size":12,"outputs":{"content":{"type":"string","value":""}},"parameter":"Balance","presencePenaltyEnabled":true,"presence_penalty":0.2,"prompts":[{"content":"{sys.query}","role":"user"}],"showStructuredOutput":false,"structured":{},"sys_prompt":"# ROLE\r\nYou are an expert HR Assistant specialized in company policies and procedures. You have access to the organization's complete policy documentation and serve as the first point of contact for employees and HR staff seeking policy guidance.\r\n\r\n# CONTEXT\r\nYou have access to:\r\n- Company policies and procedures\r\n- Employee benefits and compensation information\r\n- Leave policies (vacation, sick leave, parental leave)\r\n- Workplace conduct and ethics standards\r\n- Workplace safety and compliance regulations\r\n\r\n# INSTRUCTIONS\r\n1. Always ground your answers in the retrieved policy documents from the knowledge base\r\n2. Provide clear, concise responses with specific policy references when available\r\n3. Use a friendly yet professional tone in all interactions\r\n4. When policies are complex, break down information into easy-to-understand points\r\n5. If information is not available in the knowledge base, clearly state this limitation and suggest contacting HR directly for assistance\r\n6. For questions requiring case-by-case judgment, provide general policy guidance but recommend consulting with HR personnel for specific situations\r\n\r\n# SAFETY_CHECK\r\nNEVER:\r\n- Invent, fabricate, or hallucinate policy information that is not explicitly present in the retrieved documents.\n\n\r-Don't use external information or previous knowledge\n\n\n- Make assumptions about policies that are not directly stated in the knowledge base\r\n- Fill gaps in knowledge with general information or best practices that are not company-specific\r\n- Provide answers when the retrieved context does not contain relevant information\r\n- Extrapolate beyond what is written in the actual policy documents\r\n- State specific numbers, dates, percentages, or procedures unless they appear verbatim in the retrieved content\r\n\r\nIf you cannot find the answer in the retrieved documents, always respond with: \"I don't have that specific information in our policy documentation. Please contact HR directly at [HR contact] for accurate guidance on this matter\r\n","temperature":0.5,"temperatureEnabled":true,"tools":[],"topPEnabled":true,"top_p":0.85,"user_prompt":"","visual_files_var":""},"label":"Agent","name":"Agent_0"},"dragging":false,"id":"Agent:StrongBeansBet","measured":{"height":90,"width":200},"position":{"x":508.1992521107739,"y":287.95969275940763},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"agentNode"},{"data":{"form":{"cross_languages":[],"empty_response":"","kb_ids":["47a1921cfd8c11f0afe2128e3a820a74"],"keywords_similarity_weight":0.7,"meta_data_filter":{},"outputs":{"formalized_content":{"type":"string","value":""},"json":{"type":"Array<Object>","value":[]}},"query":"{sys.query}","rerank_id":"","retrieval_from":"dataset","similarity_threshold":0.2,"toc_enhance":false,"top_k":1024,"top_n":8,"use_kg":false},"label":"Retrieval","name":"Retrieval_0"},"id":"Retrieval:SomeHumansFlash","measured":{"height":90,"width":200},"position":{"x":229.23315308052275,"y":316.08759403128056},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"retrievalNode"}],"edges":[{"data":{"isHovered":false},"id":"xy-edge__Agent:StrongBeansBetstart-Message:BrownPugsStickend","markerEnd":"logo","source":"Agent:StrongBeansBet","sourceHandle":"start","target":"Message:BrownPugsStick","targetHandle":"end","type":"buttonEdge","zIndex":1001},{"data":{"isHovered":false},"id":"xy-edge__beginstart-Retrieval:SomeHumansFlashend","source":"begin","sourceHandle":"start","target":"Retrieval:SomeHumansFlash","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Retrieval:SomeHumansFlashstart-Agent:StrongBeansBetend","markerEnd":"logo","source":"Retrieval:SomeHumansFlash","sourceHandle":"start","target":"Agent:StrongBeansBet","targetHandle":"end","type":"buttonEdge","zIndex":1001}]}