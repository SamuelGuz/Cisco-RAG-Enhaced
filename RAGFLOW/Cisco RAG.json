{"nodes":[{"data":{"form":{"enablePrologue":true,"inputs":{},"mode":"conversational","prologue":"Hi! I'm the Human Resources assistant. What can I do for you?"},"label":"Begin","name":"begin"},"dragging":false,"id":"begin","measured":{"height":82,"width":200},"position":{"x":84.48700588982157,"y":200},"selected":false,"sourcePosition":"left","targetPosition":"right","type":"beginNode"},{"data":{"form":{"frequencyPenaltyEnabled":false,"frequency_penalty":0.7,"items":[{"description":"Questions about employees, attendance, leave, benefits, dress code, workplace behavior, harassment, conflicts, disciplinary procedures, grievances, or the employee handbook.","examples":[{"value":"How many vacation days do I have per year?\n\nWhat is the dress code in the office?\n\nHow do I report harassment at work?\n\nWhat is the policy for sick leave?\n\nCan I work remotely and what are the conditions?"}],"name":"Human Resources","uuid":"37e46d1f-7f2a-4d63-8f1f-8ded2106d188"},{"description":"Questions about data protection, GDPR/CCPA, information security, acceptable use of technology, passwords, MFA, VPN, incident response, data retention, or remote work security.","examples":[{"value":"Can I use personal email to send company files?\nAnything about tecnology\nWhat is our policy on data retention?\n\nWhat should I do if I lose my company laptop?\n\nAre we required to notify authorities after a data breach?\n\nWhat password requirements does the company enforce?"}],"name":"Data Privacy","uuid":"b78a6440-5b01-48cd-be5b-3c44d49d04c4"},{"description":"Questions not related to HR policies or data privacy/technology policies, or that are too general or unclear.","examples":[{"value":"What is the company strategy for next year?\n\nWho is the CEO?\n\nWhere is the cafeteria located?"}],"name":"Other","uuid":"13b14109-d657-41c5-ad3e-f13dd9ecb205"}],"llm_id":"llama3.2:3b@Ollama","maxTokensEnabled":false,"max_tokens":256,"message_history_window_size":100,"outputs":{"category_name":{"type":"string"}},"parameter":"Precise","presencePenaltyEnabled":false,"presence_penalty":0.4,"query":"sys.query","temperature":0.1,"temperatureEnabled":false,"topPEnabled":false,"top_p":0.3},"label":"Categorize","name":"Categorize"},"dragging":false,"id":"Categorize:WideTreesLike","measured":{"height":186,"width":200},"position":{"x":350.865079485094,"y":124.57969226385856},"selected":true,"sourcePosition":"right","targetPosition":"left","type":"categorizeNode"},{"data":{"form":{"conditions":[{"items":[{"cpn_id":"Categorize:WideTreesLike@category_name","operator":"=","value":"Human Resources"}],"logical_operator":"and","to":["Retrieval:LegalBeersThank"]},{"items":[{"cpn_id":"Categorize:WideTreesLike@category_name","operator":"=","value":"Data Privacy"}],"logical_operator":"and","to":["Retrieval:DarkPumasFail"]}],"end_cpn_ids":["Agent:HeavySidesWalk"]},"label":"Switch","name":"Switch"},"dragging":false,"id":"Switch:ChattyPansCheat","measured":{"height":234,"width":200},"position":{"x":675.5361783249008,"y":113.434059711597},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"switchNode"},{"data":{"form":{"content":["{Agent:FruityTimesCall@content}\n\n"]},"label":"Message","name":"HR Answer"},"dragging":false,"id":"Message:KindRiversBurn","measured":{"height":86,"width":200},"position":{"x":1552.1169878362157,"y":-7.628572086344956},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"messageNode"},{"data":{"form":{"cite":true,"delay_after_error":1,"description":"","exception_default_value":"","exception_goto":[],"exception_method":"","frequencyPenaltyEnabled":true,"frequency_penalty":0.3,"llm_id":"mistral:7b@Ollama","maxTokensEnabled":false,"max_retries":3,"max_rounds":1,"max_tokens":4096,"mcp":[],"message_history_window_size":12,"outputs":{"content":{"type":"string","value":""}},"parameter":"Balance","presencePenaltyEnabled":true,"presence_penalty":0.2,"prompts":[{"content":"\n{sys.query}\n{Retrieval:LoudCupsBehave@formalized_content}\n\n","role":"user"}],"showStructuredOutput":false,"structured":{},"sys_prompt":"<role> You are the Official HR & IT Assistant for the company. Your goal is to answer employee questions ACCURATELY based ONLY on the provided context. You represent the company, so be professional, polite, and concise. </role>​\r\n\r\n​\r<context> The user has asked a question about company policies. You have been provided with relevant excerpts from our internal documents (Employee Handbook or Tech Policies). </context> ​\r\n\r\n​\r<instructions> 1. **Analyze the Context:** Read the provided document chunks carefully. ​\r\n\r\n2. **Direct Answer:** Answer the user's question directly. Do not start with \"Based on the documents...\". Just say the answer. ​\r\n\r\n3. **Cite Your Source:** At the end of your answer, mention which policy or section supports your statement (e.g., \"Source: Employee Handbook, Section 4.2\")​\r\n\r\n.4. **Be Honest:** If the answer is NOT in the provided context, state clearly: \"I cannot find specific information about that in the current policies. Please check with HR directly.\" DO NOT invent information. ​\r\n\r\n5. **Formatting:** Use bullet points for lists (like requirements or steps) to make it easy to read. ​\r\n\r\n6. **Tone:** Helpful, clear, and safe. </instructions> ​\r\n\r\n​\r<safety_check> - Do not provide medical or legal advice. - Do not share passwords or sensitive keys if they appear in the text (though they shouldn't). - If the user asks something unethical (how to bypass security), politely refuse based on the \"Acceptable Use Policy\". ​\r\n\r\n</safety_check>  ​\r\n\r\n","temperature":0.5,"temperatureEnabled":true,"tools":[],"topPEnabled":true,"top_p":0.85,"user_prompt":"","visual_files_var":""},"label":"Agent","name":"HR Agent"},"dragging":false,"id":"Agent:FruityTimesCall","measured":{"height":90,"width":200},"position":{"x":1237.083526078143,"y":-9.09628976560274},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"agentNode"},{"data":{"form":{"cite":true,"delay_after_error":1,"description":"","exception_default_value":"","exception_goto":[],"exception_method":"","frequencyPenaltyEnabled":false,"frequency_penalty":0.7,"llm_id":"llama3.2:3b@Ollama","maxTokensEnabled":false,"max_retries":3,"max_rounds":1,"max_tokens":256,"mcp":[],"message_history_window_size":12,"outputs":{"content":{"type":"string","value":""}},"presencePenaltyEnabled":false,"presence_penalty":0.4,"prompts":[{"content":"User question:\r\n{sys.query}\r\n\r\nAnswer strictly following the system instructions.\r\n","role":"user"}],"showStructuredOutput":false,"structured":{},"sys_prompt":"You are a very limited assistant.\r\nYou can ONLY handle questions about the company’s HR policies or IT/security policies.\r\nIf the user asks anything that is not clearly about HR or IT/security policies, you MUST answer:\r\n\r\r\nSorry, I cannot help you with that. I am only an HR and IT internal policy assistant.\"\r\n\r\nDo not try to guess or invent information.\r\nAlways keep the answer to 1–2 short sentences, and never add extra explanations.\r\n","temperature":0.1,"temperatureEnabled":false,"tools":[],"topPEnabled":false,"top_p":0.3,"user_prompt":"","visual_files_var":""},"label":"Agent","name":"Other Agent"},"dragging":false,"id":"Agent:HeavySidesWalk","measured":{"height":90,"width":200},"position":{"x":952.135329934724,"y":358.08075554925756},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"agentNode"},{"data":{"form":{"content":["{Agent:HeavySidesWalk@content}"]},"label":"Message","name":"Other asnwer"},"dragging":false,"id":"Message:SolidCatsTie","measured":{"height":86,"width":200},"position":{"x":1266.0302607299639,"y":405.18542850076017},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"messageNode"},{"data":{"form":{"cite":true,"delay_after_error":1,"description":"","exception_default_value":"","exception_goto":[],"exception_method":"","frequencyPenaltyEnabled":false,"frequency_penalty":0.7,"llm_id":"llama3.2:3b@Ollama","maxTokensEnabled":false,"max_retries":3,"max_rounds":1,"max_tokens":256,"mcp":[],"message_history_window_size":12,"outputs":{"content":{"type":"string","value":""}},"presencePenaltyEnabled":false,"presence_penalty":0.4,"prompts":[{"content":"{sys.query}\n\n{Retrieval:StupidBananasTravel@formalized_content}","role":"user"}],"showStructuredOutput":false,"structured":{},"sys_prompt":"<role> You are the Official HR & IT Assistant for the company. Your goal is to answer employee questions ACCURATELY based ONLY on the provided context. You represent the company, so be professional, polite, and concise, don't INFER, DON'T USE EXTERNAL KNOWLEDGE. </role>​\r\n\r\r\n<context> The user has asked a question about company policies. You have been provided with relevant excerpts from our internal documents (Employee Handbook or Tech Policies). </context> ​\r\n\r\n​<instructions> 1. **Analyze the Context:** Read the provided document chunks carefully. ​\r\n\r\n2. **Direct Answer:** Answer the user's question directly. Do not start with \"Based on the documents...\". Just say the answer. ​\r\n\r\n3. **Cite Your Source:** At the end of your answer, mention which policy or section supports your statement (e.g., \"Source: Employee Handbook, Section 4.2\")​\r\n\r\n.4. **Be Honest:** If the answer is NOT in the provided context, state clearly: \"I cannot find specific information about that in the current policies. Please check with HR directly.\" DO NOT invent information. ​\r\n\r\n5. **Formatting:** Use bullet points for lists (like requirements or steps) to make it easy to read. ​\r\n\r\n6. **Tone:** Helpful, clear, and safe. </instructions> ​\r\n\r\n\r\r<safety_check> - Do not provide medical or legal advice. - Do not share passwords or sensitive keys if they appear in the text (though they shouldn't). - If the user asks something unethical (how to bypass security), politely refuse based on the \"Acceptable Use Policy\". ​\r\n\r\n</safety_check>  ​\r\n\r\n","temperature":0.1,"temperatureEnabled":false,"tools":[],"topPEnabled":false,"top_p":0.3,"user_prompt":"","visual_files_var":""},"label":"Agent","name":"IT Agent"},"dragging":false,"id":"Agent:DryForksShout","measured":{"height":90,"width":200},"position":{"x":1247.8874018090792,"y":202.59457748016607},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"agentNode"},{"data":{"form":{"content":["{Agent:DryForksShout@content}"]},"label":"Message","name":"IT Answer"},"dragging":false,"id":"Message:WittyDotsLike","measured":{"height":86,"width":200},"position":{"x":1539.4021203910195,"y":228.05042173434467},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"messageNode"},{"data":{"form":{"cross_languages":[],"empty_response":"","kb_ids":["46bf7dd7fe0711f0a61b9afccd6c06c4"],"keywords_similarity_weight":0.7,"meta_data_filter":{},"outputs":{"formalized_content":{"type":"string","value":""},"json":{"type":"Array<Object>","value":[]}},"query":"{sys.query}","rerank_id":"","retrieval_from":"dataset","similarity_threshold":0.2,"toc_enhance":false,"top_k":1024,"top_n":8,"use_kg":false},"label":"Retrieval","name":"Data Privacy"},"dragging":false,"id":"Retrieval:DarkPumasFail","measured":{"height":90,"width":200},"position":{"x":948.2910286126001,"y":196.60346409651498},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"retrievalNode"},{"data":{"form":{"cross_languages":[],"empty_response":"","kb_ids":["47a1921cfd8c11f0afe2128e3a820a74"],"keywords_similarity_weight":0.7,"meta_data_filter":{},"outputs":{"formalized_content":{"type":"string","value":""},"json":{"type":"Array<Object>","value":[]}},"query":"{sys.query}","rerank_id":"","retrieval_from":"dataset","similarity_threshold":0.2,"toc_enhance":false,"top_k":1024,"top_n":8,"use_kg":false},"label":"Retrieval","name":"Human Resources"},"dragging":false,"id":"Retrieval:LegalBeersThank","measured":{"height":90,"width":200},"position":{"x":972.6682678288691,"y":46.0381630548531},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"retrievalNode"}],"edges":[{"data":{"isHovered":false},"id":"xy-edge__beginstart-Categorize:WideTreesLikeend","source":"begin","sourceHandle":"start","target":"Categorize:WideTreesLike","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Categorize:WideTreesLike37e46d1f-7f2a-4d63-8f1f-8ded2106d188-Switch:ChattyPansCheatend","markerEnd":"logo","source":"Categorize:WideTreesLike","sourceHandle":"37e46d1f-7f2a-4d63-8f1f-8ded2106d188","target":"Switch:ChattyPansCheat","targetHandle":"end","type":"buttonEdge","zIndex":1001},{"data":{"isHovered":false},"id":"xy-edge__Categorize:WideTreesLikeb78a6440-5b01-48cd-be5b-3c44d49d04c4-Switch:ChattyPansCheatend","markerEnd":"logo","source":"Categorize:WideTreesLike","sourceHandle":"b78a6440-5b01-48cd-be5b-3c44d49d04c4","target":"Switch:ChattyPansCheat","targetHandle":"end","type":"buttonEdge","zIndex":1001},{"data":{"isHovered":false},"id":"xy-edge__Categorize:WideTreesLike13b14109-d657-41c5-ad3e-f13dd9ecb205-Switch:ChattyPansCheatend","markerEnd":"logo","source":"Categorize:WideTreesLike","sourceHandle":"13b14109-d657-41c5-ad3e-f13dd9ecb205","target":"Switch:ChattyPansCheat","targetHandle":"end","type":"buttonEdge","zIndex":1001},{"data":{"isHovered":false},"id":"xy-edge__Agent:FruityTimesCallstart-Message:KindRiversBurnend","markerEnd":"logo","source":"Agent:FruityTimesCall","sourceHandle":"start","target":"Message:KindRiversBurn","targetHandle":"end","type":"buttonEdge","zIndex":1001},{"data":{"isHovered":false},"id":"xy-edge__Switch:ChattyPansCheatend_cpn_ids-Agent:HeavySidesWalkend","source":"Switch:ChattyPansCheat","sourceHandle":"end_cpn_ids","target":"Agent:HeavySidesWalk","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Agent:HeavySidesWalkstart-Message:SolidCatsTieend","source":"Agent:HeavySidesWalk","sourceHandle":"start","target":"Message:SolidCatsTie","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Agent:DryForksShoutstart-Message:WittyDotsLikeend","source":"Agent:DryForksShout","sourceHandle":"start","target":"Message:WittyDotsLike","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Switch:ChattyPansCheatCase 2-Retrieval:DarkPumasFailend","source":"Switch:ChattyPansCheat","sourceHandle":"Case 2","target":"Retrieval:DarkPumasFail","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Retrieval:DarkPumasFailstart-Agent:DryForksShoutend","markerEnd":"logo","source":"Retrieval:DarkPumasFail","sourceHandle":"start","target":"Agent:DryForksShout","targetHandle":"end","type":"buttonEdge","zIndex":1001},{"data":{"isHovered":false},"id":"xy-edge__Switch:ChattyPansCheatCase 1-Retrieval:LegalBeersThankend","source":"Switch:ChattyPansCheat","sourceHandle":"Case 1","target":"Retrieval:LegalBeersThank","targetHandle":"end"},{"data":{"isHovered":false},"id":"xy-edge__Retrieval:LegalBeersThankstart-Agent:FruityTimesCallend","markerEnd":"logo","source":"Retrieval:LegalBeersThank","sourceHandle":"start","target":"Agent:FruityTimesCall","targetHandle":"end","type":"buttonEdge","zIndex":1001}]}